<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/Npodutos.css">
   
    <title>Document</title>
</head>
<body>
    <h1 id="ad">Adega VT</h1>
    <nav class="dp-menu">
     <ul>
            <li>
                <a
                    href="http://localhost:3000/">home</a>
            </li>
            <li><a href="http://localhost:3000/produtos"> Produtos</a>
                <ul>
                    <li><a
                            href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/projeto%20para%20igor/cervejas/index.html">Cervejas</a>
                    </li>
                    <li><a
                            href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/projeto%20para%20igor/vinhos/index.html">Vinhos</a>
                    </li>
                    <li><a
                            href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/projeto%20para%20igor/cigarros/index.html">Cigarros</a>
                    </li>
                    <li><a href="#">Drinks</a></li>
                    <li><a
                            href="file:///C:/Users/User/OneDrive/%C3%81rea%20de%20Trabalho/projeto%20para%20igor/narguil%C3%A9/index.html">NarguilÃ©</a>
                    </li>
                    <li><a href="#">Lanches </a></li>
                </ul>
            </li>
            <li><a href="#">Carrinho <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAB50lEQVQ4jZWS3UsUURjGn/fM7K59IkhgUUZbEIGIi3hTN133R3QREnZRIMHSh0F4I5QGCgXZTR/0N3TXjRdBlixGoja7tIWFm1qzs3Nmdpzzvl1ksdO2mi8cHjjveX68H4cuPL7+jsJUt1VunyfQwMPRoVfYQSgwIG0bcxB1WyDPAaGdABKPLw6Pm42u76uUYscIzwuzI5CSEqvEmXjh2fkxf2vAyN3qkVP79x04vBu1QKPq+5GrdaRDbdXjuM1W1rpS6pMxZsEIL4KpaCcb4nLkm+7swUO/b9KbB4YZXqA7fB101AKdW3F/1Je/rfiq0W+IC9W1KAaAuZKDRn3/sYT2PXux5rk42XUUxzo7M5ZSywkAAdNhzdAvYxFbqacDsMhSApCW9AsOlWUMtxr6n6gFfhTHspgAPBi++pks5krFQ0/2OAC0VFf7IUHKCQAAIMVu5auLnuyJTUOzhlGE9aqXFkLB/tsvSpwl50vuQ62oW5UfG2Nbih49HbjzuglAQeoJ/NTqVP7muW0HAaCpBQZNg3Bm8Np47n8A//z3l25NvGSDs4pAhpMbUUpBBMa26d79kSv5phYAQAxO9/f10sxsIZwaHdrVmBu8MRH29/VmZmYLlwHkm7cAwLJp8s3bQt2y1eR2uZ+un/DXvOoyPAAAAABJRU5ErkJggg=="></a></li>
            <li><a href="#">Adicionar Produto</a></li>
        </ul>
    </nav>
    

<form action="/" method="POST" enctype="multipart/form-data" id="base">
    <span>Nome do Produto</span>
    <input class="field" name="nome" required value="<%=body.nome%>"><br>
    <span>Valordo produto</span>
    <input class="field" name="valor" required value="<%=body.valor%>"><br>
    <span>Tipo do produto</span>
    <input class="field" name="tipo" required value="<%=body.tipo%>" ><br>
    <label class="picture " tabindex="0">
        <input type="file" accept="image/*" class="picture__input" placeholder="imagem" name="txtFoto">
        <span class="picture__image"></span>
    </label>
    <button id="bts">Salvar</button>



  

</form>


<!-- nesse erro serÃ¡ ocasionada caso o cliente tente enviar
     com algum campo vazio, e caso o front nÃ£o mande a mensagem
      de obrigatÃ³rio, serÃ¡ renderiazado a pagina novamnete com
       a mensagem, pedindo para preencher o campo -->
<%if(error){%>
  <h3><%=error.message%></h3>
<%}%>


 <script>
    const inputfile = document.querySelector('.picture')    
    const pictureImage = document.querySelector('.picture__image ')
    const pictureImageTxt = 'Imagem ðŸ“·';
    pictureImage.innerHTML = pictureImageTxt


    inputfile.addEventListener('change', function(e){
        const inputTarget = e.target;
        const file = inputTarget.files[0]
        
        if(file){
           const reader = new FileReader()

            reader.addEventListener('load', function(e){
                const readerTarget = e.target;

                const img = document.createElement('img');
                img.src = readerTarget.result;
                img.classList.add('picture__img')
                pictureImage.appendChild(img)
            })
           reader.readAsDataURL(file)
            
        }else{
            pictureImage.innerHTML = pictureImageTxt
        }

    })


</script> 
</html>